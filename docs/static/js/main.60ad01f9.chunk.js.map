{"version":3,"sources":["components/VerticalStepsList/status.js","components/VerticalStepsList/index.js","items/Marker.js","items/Checkbox.js","pages/Advance.js","api/index.js","pages/Basic.js","pages/Dark.js","App.js","index.js"],"names":["VSL_STATUS","DONE","PENDING","COMING","VerticalStepsList","initItems","items","props","useState","setItems","called","setCalled","checkedHandler","i","a","callback","Function","callbackResponse","Promise","produce","draft","disabled","promiseResponse","console","error","status","update","availableProps","ignoreProps","key","isValidElement","includes","className","classNames","darkTheme","map","item","itemFilter","Fragment","coming","itemClass","style","itemStyle","type","onClick","onChange","e","target","checked","preventCheckboxHandler","display","checkbox","marker","textFilter","text","meta","length","children","done","childrenClass","childrenStyle","child","j","childFilter","Marker","src","Checkbox","Advance","VPL_STATUS","time","this","resolve","setTimeout","now","Date","hours","getHours","toString","padStart","minutes","getMinutes","then","res","reject","Error","catch","err","alert","Basic","Dark","background","App","maxWidth","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.60ad01f9.chunk.js","sourcesContent":["const VSL_STATUS = {\n  DONE: 0,\n  PENDING: 1,\n  COMING: 2\n}\n\nexport default VSL_STATUS\n","import classNames from 'classnames'\nimport React, { isValidElement, useState } from 'react'\nimport VSL_STATUS from './status'\nimport './index.scss'\nimport produce from 'immer'\n\nfunction VerticalStepsList ({ items: initItems, ...props }) {\n  const [items, setItems] = useState(initItems)\n  const [called, setCalled] = useState(false)\n\n  const checkedHandler = async (i) => {\n    if (items[i].callback instanceof Function) {\n      if (called) {\n        return\n      }\n\n      setCalled(true)\n      const callbackResponse = items[i].callback()\n      if (callbackResponse instanceof Promise) {\n        setItems(produce(items, draft => {\n          draft[i].disabled = true\n        }))\n        try {\n          const promiseResponse = await callbackResponse\n          setCalled(false)\n          setItems(produce(items, draft => {\n            draft[i].disabled = false\n          }))\n          if (promiseResponse === false) {\n            return\n          }\n        } catch (err) {\n          setCalled(false)\n          setItems(produce(items, draft => {\n            draft[i].disabled = false\n          }))\n          console.error(err)\n          return\n        }\n      }\n\n      setCalled(false)\n      if (callbackResponse === false) {\n        return\n      }\n    }\n\n    setItems(produce(items, draft => {\n      draft[i].status = VSL_STATUS.DONE\n\n      if (draft[i + 1]) {\n        draft[i + 1].status = VSL_STATUS.PENDING\n      }\n\n      if (draft[i].update instanceof Function) {\n        draft[i] = draft[i].update()\n      }\n    }))\n  }\n\n  const availableProps = {}\n  const ignoreProps = ['itemClass', 'itemStyle', 'childrenClass', 'childrenStyle', 'darkTheme']\n  for (const key in props) {\n    if ((props[key] instanceof Function || isValidElement(props[key])) === false && !ignoreProps.includes(key)) {\n      availableProps[key] = props[key]\n    }\n  }\n\n  const preventCheckboxHandler = e => {\n    e.target.checked = false\n  }\n\n  return (\n        <div {...availableProps} className={classNames('vsl-list', props.className, {\n          'dark-theme': !!props.darkTheme\n        })}>\n            {items.map((item, i) => {\n              item = (props.itemFilter instanceof Function && props.itemFilter(item)) || item\n\n              return (\n                    <React.Fragment key={i}>\n                        <div className={classNames('node', {\n                          coming: item.status === VSL_STATUS.COMING\n                        }, props.itemClass)} style={props.itemStyle} >\n                            <label>\n                              { item.status === VSL_STATUS.PENDING\n                                ? (\n                                  <>\n                                    <input\n                                      type=\"checkbox\"\n                                      onClick={() => checkedHandler(i)}\n                                      onChange={e => preventCheckboxHandler(e)}\n                                      style={{ display: 'none' }}\n                                    />\n                                    <div className={classNames({ disabled: item.disabled })}>\n                                    {\n                                      isValidElement(item.checkbox)\n                                        ? <>{item.checkbox}</>\n                                        : <div className=\"default-checkbox\"></div>\n                                    }\n                                    </div>\n                                  </>\n                                  )\n                                : <div className=\"marker\">\n                                  <>\n                                  {\n                                    isValidElement(item.marker)\n                                      ? <>{item.marker}</>\n                                      : <div className=\"circle-marker\"></div>\n                                  }\n                                  </>\n                                </div>\n                              }\n                              <span>\n                                {(props.textFilter instanceof Function && props.textFilter(item.text)) || item.text}\n                              </span>\n                            </label>\n                            { item.meta instanceof Function\n                              ? <>\n                                  <div className=\"meta\">{item.meta()}</div>\n                                </>\n                              : ''}\n                        </div>\n\n                        { items.length - 1 > i && !item.children && <div className={classNames('line', {\n                          coming: items[i + 1].status === VSL_STATUS.COMING\n                        })}></div>}\n\n                        { item.children && (\n                            <div className={classNames('children', {\n                              coming: items[i].status === VSL_STATUS.COMING,\n                              done: items[i].status === VSL_STATUS.DONE\n                            }, props.childrenClass)} style={props.childrenStyle}>\n                                <div className=\"line\"></div>\n                                <div>\n                                  {item.children.map((child, j) => (\n                                    <div key={j}>\n                                        {(props.childFilter instanceof Function && props.childFilter(child.text)) || child.text}\n                                      </div>\n                                  ))}\n                                </div>\n                            </div>\n                        )}\n                    </React.Fragment>\n              )\n            })}\n        </div>\n  )\n}\n\nexport default VerticalStepsList\n","import React from 'react'\n\nfunction Marker () {\n  return (\n    <img src=\"https://img.icons8.com/fluency/48/000000/popular-topic.png\"/>\n  )\n}\n\nexport default Marker\n","import React from 'react'\n\nfunction Checkbox () {\n  return (\n    <img src=\"https://img.icons8.com/fluency/48/000000/my-topic.png\"/>\n  )\n}\n\nexport default Checkbox\n","import React from 'react'\nimport VPL_STATUS from '../components/VerticalStepsList/status'\nimport VerticalProgressList from '../components/VerticalStepsList'\nimport { error, save } from 'api'\nimport Marker from 'items/Marker'\nimport Checkbox from 'items/Checkbox'\n\nfunction Advance () {\n  const items = [{\n    text: 'Progress 1',\n    status: VPL_STATUS.DONE,\n    time: '12:00',\n    meta () {\n      return this.time\n    }\n  }, {\n    text: 'Progress 2',\n    time: '12:30',\n    status: VPL_STATUS.DONE,\n    children: [{\n      text: 'Children 1'\n    }, {\n      text: 'Children 2'\n    }],\n    meta () {\n      return this.children.length\n    }\n  }, {\n    text: 'Progress 3',\n    status: VPL_STATUS.PENDING,\n    callback () {\n      return save().then(res => {\n        this.time = res.time\n      })\n    },\n    update () {\n      this.children = [{\n        text: 'New Children'\n      }]\n      this.text = 'Progress3 Done!'\n      return this\n    },\n    meta () {\n      return this.time\n    }\n  }, {\n    text: 'Progress 4',\n    status: VPL_STATUS.COMING,\n    marker: <Marker />,\n    checkbox: <Checkbox />\n  }, {\n    text: 'Progress 5',\n    status: VPL_STATUS.COMING,\n    callback () {\n      return error().catch(err => {\n        console.error(err)\n        alert('checked error.')\n        return false\n      })\n    }\n  }]\n\n  const itemFilterHandler = item => {\n    if (item.text === 'Progress 1') {\n      item.text = 'Filtered Progress 1'\n      item.marker = <Marker />\n    }\n\n    return item\n  }\n\n  return <VerticalProgressList\n    items={items}\n    textFilter={text => text + '!'}\n    childFilter={text => `Filtered ${text}`}\n    itemFilter={itemFilterHandler}\n  />\n}\n\nexport default Advance\n","export const save = () => new Promise(resolve => {\n  setTimeout(() => {\n    const now = new Date()\n    const hours = now.getHours().toString().padStart(2, '0')\n    const minutes = now.getMinutes().toString().padStart(2, '0')\n    const time = `${hours}:${minutes}`\n    resolve({\n      time\n    })\n  }, 1000)\n})\n\nexport const error = () => new Promise((resolve, reject) => {\n  setTimeout(() => {\n    reject(new Error('error'))\n  }, 1000)\n})\n","import React from 'react'\nimport VPL_STATUS from '../components/VerticalStepsList/status'\nimport VerticalProgressList from '../components/VerticalStepsList'\n\nfunction Basic () {\n  const items = [{\n    text: 'Progress 1',\n    status: VPL_STATUS.DONE,\n    time: '12:00'\n  }, {\n    text: 'Progress 2',\n    time: '12:30',\n    status: VPL_STATUS.DONE,\n    children: [{\n      text: 'Children 1'\n    }, {\n      text: 'Children 2'\n    }]\n  }, {\n    text: 'Progress 3',\n    status: VPL_STATUS.PENDING,\n    callback () {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          resolve(true)\n        }, 1000)\n      })\n    }\n  }, {\n    text: 'Progress 4',\n    status: VPL_STATUS.COMING\n  }, {\n    text: 'Progress 5',\n    status: VPL_STATUS.COMING,\n    callback () {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          alert('checked error.')\n          resolve(false)\n        }, 1000)\n      })\n    }\n  }]\n  return (\n    <div>\n      <VerticalProgressList\n        items={items}\n      />\n    </div>\n  )\n}\n\nexport default Basic\n","import React from 'react'\nimport VPL_STATUS from '../components/VerticalStepsList/status'\nimport VerticalProgressList from '../components/VerticalStepsList'\n\nfunction Dark () {\n  const items = [{\n    text: 'Progress 1',\n    status: VPL_STATUS.DONE,\n    time: '12:00'\n  }, {\n    text: 'Progress 2',\n    time: '12:30',\n    status: VPL_STATUS.DONE,\n    children: [{\n      text: 'Children 1'\n    }, {\n      text: 'Children 2'\n    }]\n  }, {\n    text: 'Progress 3',\n    status: VPL_STATUS.PENDING,\n    callback () {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          resolve(true)\n        }, 1000)\n      })\n    }\n  }, {\n    text: 'Progress 4',\n    status: VPL_STATUS.COMING\n  }, {\n    text: 'Progress 5',\n    status: VPL_STATUS.COMING,\n    callback () {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          alert('checked error.')\n          resolve(false)\n        }, 1000)\n      })\n    }\n  }]\n  return (\n    <div style={{ background: '#000' }}>\n      <VerticalProgressList\n        items={items}\n        darkTheme={true}\n      />\n    </div>\n  )\n}\n\nexport default Dark\n","import Advance from 'pages/Advance'\nimport Basic from 'pages/Basic'\nimport Dark from 'pages/Dark'\nimport React from 'react'\n\nfunction App () {\n  return (\n    <div>\n      <h1>Vertical Progress List Demo</h1>\n      <hr />\n      <h2>Basic</h2>\n      <div style={{ maxWidth: 500 }}>\n        <Basic />\n      </div>\n      <hr />\n      <h2>Advance</h2>\n      <div style={{ maxWidth: 500 }}>\n        <Advance />\n      </div>\n      <h2>Dark Theme</h2>\n      <div style={{ maxWidth: 500 }}>\n        <Dark />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}